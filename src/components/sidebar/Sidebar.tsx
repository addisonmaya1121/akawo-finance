import { Link } from "react-router-dom";
import { ToggleTheme } from "../ToggleTheme";

import SidebarItem, { SidebarItemType } from "./SidebarItem";
import { cn } from "@/lib/utils";
import { useTheme } from "../ThemeProvider";

const sidebarItems: SidebarItemType[] = [
  {
    name: "Home",
    link: "/",
    icon: (
      <svg
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        className="w-5 h-5"
      >
        <path
          d="M23.121 9.06899L15.536 1.48299C14.5973 0.546978 13.3257 0.0213623 12 0.0213623C10.6744 0.0213623 9.40277 0.546978 8.46401 1.48299L0.879012 9.06899C0.599438 9.34677 0.377782 9.67729 0.226895 10.0414C0.0760072 10.4055 -0.0011104 10.7959 1.20795e-05 11.19V21.007C1.20795e-05 21.8026 0.316083 22.5657 0.878692 23.1283C1.4413 23.6909 2.20436 24.007 3.00001 24.007H21C21.7957 24.007 22.5587 23.6909 23.1213 23.1283C23.6839 22.5657 24 21.8026 24 21.007V11.19C24.0011 10.7959 23.924 10.4055 23.7731 10.0414C23.6222 9.67729 23.4006 9.34677 23.121 9.06899ZM15 22.007H9.00001V18.073C9.00001 17.2773 9.31608 16.5143 9.87869 15.9517C10.4413 15.3891 11.2044 15.073 12 15.073C12.7957 15.073 13.5587 15.3891 14.1213 15.9517C14.6839 16.5143 15 17.2773 15 18.073V22.007ZM22 21.007C22 21.2722 21.8947 21.5266 21.7071 21.7141C21.5196 21.9016 21.2652 22.007 21 22.007H17V18.073C17 16.7469 16.4732 15.4751 15.5355 14.5375C14.5979 13.5998 13.3261 13.073 12 13.073C10.6739 13.073 9.40216 13.5998 8.46448 14.5375C7.5268 15.4751 7.00001 16.7469 7.00001 18.073V22.007H3.00001C2.7348 22.007 2.48044 21.9016 2.29291 21.7141C2.10537 21.5266 2.00001 21.2722 2.00001 21.007V11.19C2.00094 10.925 2.1062 10.671 2.29301 10.483L9.87801 2.89999C10.4417 2.33892 11.2047 2.02393 12 2.02393C12.7953 2.02393 13.5583 2.33892 14.122 2.89999L21.707 10.486C21.8931 10.6732 21.9983 10.926 22 11.19V21.007Z"
          fill="currentColor"
        />
      </svg>
    ),
  },
  {
    name: "Token Locker",
    link: "/token-locker",
    icon: (
      <svg
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        className="w-5 h-5"
      >
        <path
          d="M12 0C9.62663 0 7.30655 0.703788 5.33316 2.02236C3.35977 3.34094 1.8217 5.21509 0.913451 7.4078C0.00519943 9.60051 -0.232441 12.0133 0.230582 14.3411C0.693605 16.6689 1.83649 18.8071 3.51472 20.4853C5.19295 22.1635 7.33115 23.3064 9.65892 23.7694C11.9867 24.2324 14.3995 23.9948 16.5922 23.0866C18.7849 22.1783 20.6591 20.6402 21.9776 18.6668C23.2962 16.6935 24 14.3734 24 12C23.9966 8.81846 22.7312 5.76821 20.4815 3.51852C18.2318 1.26883 15.1815 0.00344108 12 0ZM12 22C10.0222 22 8.08879 21.4135 6.4443 20.3147C4.79981 19.2159 3.51809 17.6541 2.76121 15.8268C2.00433 13.9996 1.8063 11.9889 2.19215 10.0491C2.578 8.10929 3.53041 6.32746 4.92894 4.92893C6.32746 3.53041 8.10929 2.578 10.0491 2.19215C11.9889 1.8063 13.9996 2.00433 15.8268 2.7612C17.6541 3.51808 19.2159 4.79981 20.3147 6.4443C21.4135 8.08879 22 10.0222 22 12C21.9971 14.6513 20.9426 17.1931 19.0679 19.0679C17.1931 20.9426 14.6513 21.9971 12 22ZM12 7C11.2932 6.99866 10.6087 7.24752 10.0678 7.7025C9.52684 8.15748 9.16439 8.78922 9.04462 9.48582C8.92484 10.1824 9.05547 10.8989 9.41337 11.5085C9.77126 12.118 10.3333 12.5812 11 12.816V17H13V12.816C13.6667 12.5812 14.2288 12.118 14.5866 11.5085C14.9445 10.8989 15.0752 10.1824 14.9554 9.48582C14.8356 8.78922 14.4732 8.15748 13.9322 7.7025C13.3913 7.24752 12.7068 6.99866 12 7ZM12 11C11.8022 11 11.6089 10.9414 11.4444 10.8315C11.28 10.7216 11.1518 10.5654 11.0761 10.3827C11.0004 10.2 10.9806 9.99889 11.0192 9.80491C11.0578 9.61093 11.153 9.43275 11.2929 9.29289C11.4328 9.15304 11.6109 9.0578 11.8049 9.01922C11.9989 8.98063 12.2 9.00043 12.3827 9.07612C12.5654 9.15181 12.7216 9.27998 12.8315 9.44443C12.9414 9.60888 13 9.80222 13 10C13 10.2652 12.8946 10.5196 12.7071 10.7071C12.5196 10.8946 12.2652 11 12 11Z"
          fill="currentColor"
        />
      </svg>
    ),
  },
  {
    name: "Docs",
    link: "#",
    icon: (
      <svg
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        className="w-5 h-5"
      >
        <path
          d="M17 14C17 14.2652 16.8946 14.5196 16.7071 14.7071C16.5196 14.8946 16.2652 15 16 15H8C7.73478 15 7.48043 14.8946 7.29289 14.7071C7.10536 14.5196 7 14.2652 7 14C7 13.7348 7.10536 13.4804 7.29289 13.2929C7.48043 13.1053 7.73478 13 8 13H16C16.2652 13 16.5196 13.1053 16.7071 13.2929C16.8946 13.4804 17 13.7348 17 14ZM13 17H8C7.73478 17 7.48043 17.1053 7.29289 17.2929C7.10536 17.4804 7 17.7348 7 18C7 18.2652 7.10536 18.5196 7.29289 18.7071C7.48043 18.8946 7.73478 19 8 19H13C13.2652 19 13.5196 18.8946 13.7071 18.7071C13.8946 18.5196 14 18.2652 14 18C14 17.7348 13.8946 17.4804 13.7071 17.2929C13.5196 17.1053 13.2652 17 13 17ZM22 10.485V19C21.9984 20.3256 21.4711 21.5964 20.5338 22.5338C19.5964 23.4711 18.3256 23.9984 17 24H7C5.67441 23.9984 4.40356 23.4711 3.46622 22.5338C2.52888 21.5964 2.00159 20.3256 2 19V4.99999C2.00159 3.6744 2.52888 2.40355 3.46622 1.46621C4.40356 0.528874 5.67441 0.00158039 7 -7.4689e-06H11.515C12.4346 -0.00237439 13.3456 0.17758 14.1952 0.529452C15.0449 0.881323 15.8163 1.39813 16.465 2.04999L19.949 5.53599C20.6012 6.18423 21.1184 6.95545 21.4704 7.80497C21.8225 8.65448 22.0025 9.56542 22 10.485ZM15.051 3.46399C14.7363 3.15915 14.3829 2.89692 14 2.68399V6.99999C14 7.26521 14.1054 7.51956 14.2929 7.7071C14.4804 7.89464 14.7348 7.99999 15 7.99999H19.316C19.103 7.61718 18.8404 7.26414 18.535 6.94999L15.051 3.46399ZM20 10.485C20 10.32 19.968 10.162 19.953 9.99999H15C14.2044 9.99999 13.4413 9.68392 12.8787 9.12131C12.3161 8.5587 12 7.79564 12 6.99999V2.04699C11.838 2.03199 11.679 1.99999 11.515 1.99999H7C6.20435 1.99999 5.44129 2.31606 4.87868 2.87867C4.31607 3.44128 4 4.20434 4 4.99999V19C4 19.7956 4.31607 20.5587 4.87868 21.1213C5.44129 21.6839 6.20435 22 7 22H17C17.7956 22 18.5587 21.6839 19.1213 21.1213C19.6839 20.5587 20 19.7956 20 19V10.485Z"
          fill="currentColor"
        />
      </svg>
    ),
    type: "external",
  },
  {
    name: "Help & Support",
    link: "#",
    icon: (
      <svg
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        className="w-5 h-5"
      >
        <path
          d="M23.158 9.87901L21 7.72101V6.00001C21 4.34601 19.654 3.00001 18 3.00001H16.279L14.122 0.843006C12.988 -0.289994 11.012 -0.289994 9.879 0.843006L7.721 3.00001H6C4.346 3.00001 3 4.34601 3 6.00001V7.72101L0.842003 9.87901C-0.325997 11.049 -0.325997 12.951 0.842003 14.121L3 16.279V18C3 19.654 4.346 21 6 21H7.721L9.878 23.157C10.445 23.723 11.198 24.036 12 24.036C12.802 24.036 13.555 23.724 14.121 23.157L16.279 21H18C19.654 21 21 19.654 21 18V16.279L23.158 14.121C24.326 12.951 24.326 11.049 23.158 9.87901ZM21.743 12.707L19.292 15.158C19.104 15.346 18.999 15.599 18.999 15.865V18C18.999 18.552 18.55 19 17.999 19H15.864C15.599 19 15.344 19.105 15.157 19.293L12.706 21.743C12.329 22.122 11.67 22.122 11.292 21.743L8.841 19.293C8.653 19.105 8.399 19 8.134 19H5.999C5.448 19 4.999 18.552 4.999 18V15.865C4.999 15.599 4.894 15.345 4.706 15.158L2.256 12.707C1.866 12.317 1.866 11.683 2.256 11.293L4.707 8.84201C4.895 8.65401 5 8.40101 5 8.13501V6.00001C5 5.44801 5.449 5.00001 6 5.00001H8.135C8.4 5.00001 8.655 4.89501 8.842 4.70701L11.293 2.25701C11.67 1.87801 12.329 1.87801 12.707 2.25701L15.158 4.70701C15.346 4.89501 15.6 5.00001 15.865 5.00001H18C18.551 5.00001 19 5.44801 19 6.00001V8.13501C19 8.40101 19.105 8.65501 19.293 8.84201L21.743 11.293C22.133 11.683 22.133 12.317 21.743 12.707ZM14.952 9.46501C15.175 10.737 14.57 12.008 13.446 12.629C13.258 12.732 12.999 13.192 12.999 13.505V14C12.999 14.553 12.551 15 11.999 15C11.447 15 10.999 14.553 10.999 14V13.505C10.999 12.472 11.636 11.342 12.48 10.877C12.77 10.718 13.075 10.342 12.982 9.81101C12.913 9.41901 12.58 9.08601 12.189 9.01801C11.883 8.96101 11.587 9.03901 11.357 9.23401C11.129 9.42401 10.999 9.70401 10.999 10.001C10.999 10.554 10.551 11.001 9.999 11.001C9.447 11.001 8.999 10.554 8.999 10.001C8.999 9.11201 9.39 8.27401 10.071 7.70201C10.751 7.13001 11.649 6.88801 12.534 7.04901C13.743 7.26001 14.738 8.25401 14.951 9.46601L14.952 9.46501ZM13.499 17.5C13.499 18.328 12.827 19 11.999 19C11.171 19 10.499 18.328 10.499 17.5C10.499 16.672 11.171 16 11.999 16C12.827 16 13.499 16.672 13.499 17.5Z"
          fill="currentColor"
        />
      </svg>
    ),
    type: "external",
  },
];

export default function Sidebar() {
  const { isSidebarOpen, setIsSidebarOpen } = useTheme();

  return (
    <>
      {isSidebarOpen && (
        <div
          className="fixed inset-0 z-20 w-full h-full bg-black/50"
          onClick={() => setIsSidebarOpen(false)}
        ></div>
      )}
      <aside
        className={cn(
          "fixed z-20 bg-card border-r h-full inset-0 lg:translate-x-0 transition-transform duration-300 max-w-full w-[250px]",
          isSidebarOpen ? "translate-x-0" : "translate-x-[-250px]"
        )}
      >
        <div className="flex flex-col h-full">
          <Link to="/" className="flex items-center px-6 mt-4">
            <img src="/logo.svg" className="w-8 h-8 mr-2" />
            <span className="text-xl font-semibold uppercase">Tokens</span>
          </Link>

          <div className="flex-1 px-3 py-4 space-y-1 overflow-auto">
            {sidebarItems.map((item, key) => (
              <SidebarItem key={key} item={item} />
            ))}
          </div>
          <div className="flex justify-center px-3 py-4 border-t">
            <ToggleTheme />
          </div>
        </div>
      </aside>
    </>
  );
}
